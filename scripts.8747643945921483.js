let deferredPrompt,directionsButton=document.querySelector("#toggle_app_directions"),installAppButton=document.querySelector("#install_pwa_button");function triggerAppInstallationFlow(){directionsButton=document.querySelector("#toggle_app_directions"),installAppButton=document.querySelector("#install_pwa_button"),deferredPrompt&&directionsButton&&installAppButton?showAddToHomeScreen():hideInstallPromotion()}function showAddToHomeScreen(){directionsButton.style.display="none",installAppButton.style.display="block",installAppButton.addEventListener("click",addToHomeScreen)}function addToHomeScreen(){deferredPrompt.prompt(),deferredPrompt.userChoice.then(function(e){"accepted"===e.outcome&&(deferredPrompt=null,hideInstallPromotion())})}function hideInstallPromotion(){directionsButton&&installAppButton&&(directionsButton.style.display="block",installAppButton.style.display="none")}setTimeout(()=>triggerAppInstallationFlow(),2e4),window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),deferredPrompt=e,triggerAppInstallationFlow()}),window.addEventListener("appinstalled",()=>{hideInstallPromotion(),deferredPrompt=null}),window.addEventListener("install",e=>{}),window.addEventListener("activate",e=>{}),window.addEventListener("fetch",e=>{});